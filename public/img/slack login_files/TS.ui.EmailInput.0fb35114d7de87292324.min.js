(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[106],{2493:function(i,t){(function(){TS.registerComponent("ui.EmailInput",{_constructor:function l(u,o,h,r){this._input_el=u;this._submit_btn=o;if(h){this._container_el=h;this._error_message_el=h.querySelector(r||".error_message")}this._email_val="";this._is_valid=false;this._added_focus_listener=false;this.sig_update=new signals.Signal;this._onInput=i.bind(this);this._input_el.addEventListener("input",this._onInput);this.sig_focusout=new signals.Signal;this._onFocusout=t.bind(this);this._input_el.addEventListener("focusout",this._onFocusout);if(this._submit_btn){this.sig_submit=new signals.Signal;this._onSubmit=e.bind(this);this._submit_btn.addEventListener("click",this._onSubmit)}if(this._container_el&&this._error_message_el){this._onEmailUpdated=n.bind(this);this._onEmailUpdatedDebounced=a.bind(this);var d=_.debounce(this._onEmailUpdatedDebounced,2e3);this.sig_update.add(this._onEmailUpdated);this.sig_update.add(d)}u.value.length&&s.call(this,this.sig_update)},isValid:function i(){return this._is_valid},destroy:function i(){this.sig_update.dispose();this.sig_update=null;this._input_el.removeEventListener("input",this._onInput);this.sig_focusout.dispose();this.sig_focusout=null;this._input_el.removeEventListener("focusout",this._onFocusout);this._input_el=null;if(this._submit_btn){this.sig_submit.dispose();this.sig_submit=null;this._submit_btn.removeEventListener("click",this._onSubmit);this._submit_btn=null}}});var i=function i(){s.call(this,this.sig_update)};var t=function i(){s.call(this,this.sig_focusout)};var s=function i(t){this._email_val=this._input_el.value.trim();var s=TS.utility.email.validateEmail(this._email_val,1);this._is_valid=s.is_valid;TS.utility.disableElement(this._submit_btn,!s.is_valid);t.dispatch(this,s.is_valid,s.error_message||null,s.error_key||null);if(!this._added_focus_listener&&this._email_val.length&&this._container_el&&this._error_message_el){this._added_focus_listener=true;this.sig_focusout.add(this._onEmailUpdatedDebounced)}};var e=function i(t){t.preventDefault();this.sig_submit.dispatch(this,this._email_val,this._is_valid)};var n=function i(t,s,e,n){if(s||n!==TS.utility.email.ERROR_EMPTY){this._error_message_el.textContent="";this._container_el.classList.remove("error")}else{this._error_message_el.textContent=e;this._container_el.classList.add("error")}};var a=function i(t,s,e){if(!this.isValid()){this._error_message_el.textContent=e;this._container_el.classList.add("error")}}})()}},[[2493,0]]]);